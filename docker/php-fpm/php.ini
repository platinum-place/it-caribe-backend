[PHP]
memory_limit = 256M
upload_max_filesize = 64M
post_max_size = 64M
max_execution_time = 60
max_input_time = 60

; Date and timezone
date.timezone = America/Santo_Domingo

; Security
expose_php = Off

[opcache]
opcache.enable = 1
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.validate_timestamps = 1
opcache.revalidate_freq = 60
opcache.save_comments = 1

[www]
user = laravel
group = laravel
listen = 9000
listen.owner = laravel
listen.group = laravel
listen.mode = 0660

pm = dynamic
pm.max_children = 50
pm.start_servers = 5
pm.min_spare_servers = 5
pm.max_spare_servers = 35

; Ensure worker stdout and stderr are sent to FPM logs
catch_workers_output = yes
decorate_workers_output = no

; Log slow requests
slowlog = /proc/self/fd/2
request_slowlog_timeout = 10s

; Set session path to a directory writable by process user
php_admin_value[session.save_path] = /var/lib/php/sessions

; Ensure the process can write to Laravel's storage directory
php_admin_value[open_basedir] = /var/www/html:/tmp:/var/lib/php/sessions
